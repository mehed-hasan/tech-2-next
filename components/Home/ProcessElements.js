import { useEffect, useState } from "react";

function ProcessElements({data,isAnimate}) {

  const [path, setPath] = useState(1);
  const [color,setColor] = useState('rgb(8, 91, 216)');
  const [isMobile, setIsMobile] = useState(true);

  const time = setTimeout(() =>{
    setPath(path+1);
  },400);


  useEffect(() =>{
    let totalPath1 = document.querySelectorAll('.paths path');
    let totalPath2 = document.querySelectorAll('.paths2 path');

    totalPath1 = totalPath1.length;
    totalPath2 = totalPath2.length;

    let totalPath = totalPath1 + totalPath2;

    if(path <= totalPath){
      document.querySelector(`.p${path}`).style.fill=color; 
      // console.log(`path : ${path} and total ${totalPath}`);
    }else{
      setPath(1);
     let array =  document.querySelectorAll('.paths path');
     array.forEach(element => {
      element.style.fill='#9C9C9C';
     });
     let array2 =  document.querySelectorAll('.paths2 path');
     array2.forEach(element => {
      element.style.fill='#9C9C9C';
     });
    }
    return () => clearTimeout(time);
  },[path]);
  



  // Code for is mobile active or not ?? --------------------------------------


useEffect(() =>{
  window.addEventListener('load', () =>{
    windowStatus();
  });
  window.addEventListener('resize',() =>{
    windowStatus();
  });

})
  const windowStatus = () =>{
    const windowWidth = window.innerWidth;
    windowWidth > 768 ? setIsMobile(false) : setIsMobile(true);
  }

    return ( 

        <>
            <div className={`process_elements ${data.id == 1 ? 'first_process_elements' : data.id == 2 ? 'second_process_elements' : 'third_process_elements'}`}>
                <div className="process_icons text-center">
                  
              <div className={isAnimate ? 'rim1' :''}></div>
              <div className={isAnimate ? 'rim2' :''}></div>
                  <a href=""><img src={`images/process/${data.image}`} alt=""/></a>
                </div>

                <div className="process_text text-center">
                  <h4 className="heading_4">{data.title}</h4>

                  <p>
                    {data.details}
                  </p>
                </div>

                {
                    data.id == 1 ?
                    
                    <div className="flow first_flow">
                    <svg className="paths" width="182" height="60" viewBox="0 0 182 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path className="p1" fillRule="evenodd" clipRule="evenodd" d="M6.69161 17.8744C6.45454 17.3755 5.85799 17.1633 5.35918 17.4004C3.87457 18.106 2.38695 18.8413 0.896521 19.6069C0.40528 19.8593 0.211635 20.4621 0.463996 20.9534C0.71637 21.4446 1.3192 21.6383 1.81045 21.3859C3.28263 20.6296 4.75178 19.9034 6.21767 19.2068C6.71648 18.9697 6.92868 18.3732 6.69161 17.8744Z" fill="#9C9C9C"/>
                      <path className="p2" d="M24.5324 11.1431C24.3627 10.6175 23.7991 10.329 23.2735 10.4987C20.1939 11.4929 17.0963 12.6078 13.9829 13.8499C13.4699 14.0545 13.2199 14.6362 13.4246 15.1492C13.6292 15.6622 14.211 15.9121 14.7239 15.7075C17.7959 14.482 20.8513 13.3823 23.888 12.4019C24.4135 12.2323 24.7021 11.6687 24.5324 11.1431Z" fill="#9C9C9C"/>
                      <path className="p3" d="M43.9572 6.73723C43.864 6.19288 43.347 5.82721 42.8027 5.9205C39.5985 6.46962 36.3679 7.14179 33.1138 7.94486C32.5776 8.07719 32.2502 8.61914 32.3825 9.15534C32.5149 9.69154 33.0568 10.0189 33.593 9.88661C36.8002 9.09512 39.9835 8.43277 43.1405 7.89177C43.6849 7.79848 44.0505 7.28158 43.9572 6.73723Z" fill="#9C9C9C"/>
                      <path className="p4" d="M63.1763 5.28571C63.1638 4.73357 62.7061 4.29608 62.1539 4.30854C58.8901 4.38224 55.5901 4.57557 52.2572 4.89789C51.7075 4.95106 51.305 5.4398 51.3582 5.98951C51.4113 6.53924 51.9001 6.94178 52.4498 6.88861C55.733 6.57109 58.9838 6.38063 62.1991 6.30803C62.7512 6.29556 63.1887 5.83786 63.1763 5.28571Z" fill="#9C9C9C"/>
                      <path className="p6" d="M101.901 11.0841C102.043 10.5503 101.725 10.0027 101.191 9.86105C98.0336 9.02312 94.8167 8.27999 91.5446 7.64383C91.0025 7.53843 90.4776 7.89246 90.3722 8.4346C90.2668 8.97673 90.6208 9.50166 91.1629 9.60706C94.3897 10.2344 97.5627 10.9674 100.678 11.7941C101.212 11.9358 101.76 11.6179 101.901 11.0841Z" fill="#9C9C9C"/>
                      <path className="p7" d="M120.501 17.3258C120.709 16.8142 120.463 16.2308 119.952 16.0228C116.931 14.7942 113.836 13.6417 110.672 12.5789C110.149 12.403 109.582 12.6848 109.406 13.2084C109.23 13.7319 109.512 14.2989 110.035 14.4748C113.159 15.5239 116.214 16.662 119.198 17.8754C119.71 18.0835 120.293 17.8374 120.501 17.3258Z" fill="#9C9C9C"/>
                      <path className="p8" d="M127.922 21.4072C130.906 22.8335 133.803 24.3281 136.61 25.8752C137.094 26.1417 137.702 25.9658 137.969 25.4821C138.235 24.9984 138.059 24.3902 137.576 24.1236C134.736 22.5586 131.804 21.0463 128.785 19.6028C128.287 19.3646 127.689 19.5754 127.451 20.0736C127.213 20.5719 127.424 21.169 127.922 21.4072Z" fill="#9C9C9C"/>
                      <path className="p9" d="M144.957 29.822C144.663 30.2899 144.804 30.9071 145.272 31.2006C148.098 32.9735 150.811 34.7883 153.403 36.625C153.854 36.9443 154.478 36.8378 154.797 36.3872C155.116 35.9366 155.01 35.3124 154.559 34.9931C151.937 33.1353 149.194 31.2996 146.335 29.5063C145.867 29.2128 145.25 29.3542 144.957 29.822Z" fill="#9C9C9C"/>
                      <path className="p10" d="M160.552 40.7297C160.208 41.1613 160.278 41.7905 160.71 42.1352C163.362 44.2532 165.848 46.3713 168.157 48.4598C168.567 48.8303 169.199 48.7985 169.57 48.3889C169.94 47.9793 169.908 47.3469 169.499 46.9765C167.159 44.8604 164.642 42.7157 161.958 40.5723C161.526 40.2277 160.897 40.2982 160.552 40.7297Z" fill="#9C9C9C"/>
                      <path className="p5" d="M82.1401 6.73744C82.2075 6.18928 81.8177 5.6903 81.2696 5.62292C78.027 5.22438 74.7373 4.93549 71.4043 4.767C70.8527 4.73912 70.3829 5.16366 70.3551 5.71524C70.3272 6.26682 70.7517 6.73657 71.3033 6.76445C74.5875 6.93047 77.8294 7.21515 81.0256 7.60798C81.5738 7.67536 82.0727 7.2856 82.1401 6.73744Z" fill="#9C9C9C"/>
                      <path className="p11" d="M175.421 53.6321C175.023 54.0145 175.009 54.6476 175.392 55.0461C176.558 56.2611 177.653 57.4522 178.675 58.6125C179.04 59.0269 179.672 59.0669 180.086 58.7018C180.501 58.3368 180.541 57.7049 180.176 57.2904C179.134 56.108 178.02 54.896 176.835 53.6613C176.453 53.2628 175.82 53.2498 175.421 53.6321Z" fill="#9C9C9C"/>
                      </svg>                  
                  </div>
  



                : data.id == 2 ?

                <div className="flow last_flow">

              {
                isMobile && 
                                    <svg className="paths2 forMobile" width="182" height="60" viewBox="0 0 182 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path className="p12" fillRule="evenodd" clipRule="evenodd" d="M6.69161 17.8744C6.45454 17.3755 5.85799 17.1633 5.35918 17.4004C3.87457 18.106 2.38695 18.8413 0.896521 19.6069C0.40528 19.8593 0.211635 20.4621 0.463996 20.9534C0.71637 21.4446 1.3192 21.6383 1.81045 21.3859C3.28263 20.6296 4.75178 19.9034 6.21767 19.2068C6.71648 18.9697 6.92868 18.3732 6.69161 17.8744Z" fill="#9C9C9C"/>
                                    <path className="p13" d="M24.5324 11.1431C24.3627 10.6175 23.7991 10.329 23.2735 10.4987C20.1939 11.4929 17.0963 12.6078 13.9829 13.8499C13.4699 14.0545 13.2199 14.6362 13.4246 15.1492C13.6292 15.6622 14.211 15.9121 14.7239 15.7075C17.7959 14.482 20.8513 13.3823 23.888 12.4019C24.4135 12.2323 24.7021 11.6687 24.5324 11.1431Z" fill="#9C9C9C"/>
                                    <path className="p14" d="M43.9572 6.73723C43.864 6.19288 43.347 5.82721 42.8027 5.9205C39.5985 6.46962 36.3679 7.14179 33.1138 7.94486C32.5776 8.07719 32.2502 8.61914 32.3825 9.15534C32.5149 9.69154 33.0568 10.0189 33.593 9.88661C36.8002 9.09512 39.9835 8.43277 43.1405 7.89177C43.6849 7.79848 44.0505 7.28158 43.9572 6.73723Z" fill="#9C9C9C"/>
                                    <path className="p15" d="M63.1763 5.28571C63.1638 4.73357 62.7061 4.29608 62.1539 4.30854C58.8901 4.38224 55.5901 4.57557 52.2572 4.89789C51.7075 4.95106 51.305 5.4398 51.3582 5.98951C51.4113 6.53924 51.9001 6.94178 52.4498 6.88861C55.733 6.57109 58.9838 6.38063 62.1991 6.30803C62.7512 6.29556 63.1887 5.83786 63.1763 5.28571Z" fill="#9C9C9C"/>
                                    <path className="p16" d="M101.901 11.0841C102.043 10.5503 101.725 10.0027 101.191 9.86105C98.0336 9.02312 94.8167 8.27999 91.5446 7.64383C91.0025 7.53843 90.4776 7.89246 90.3722 8.4346C90.2668 8.97673 90.6208 9.50166 91.1629 9.60706C94.3897 10.2344 97.5627 10.9674 100.678 11.7941C101.212 11.9358 101.76 11.6179 101.901 11.0841Z" fill="#9C9C9C"/>
                                    <path className="p17" d="M120.501 17.3258C120.709 16.8142 120.463 16.2308 119.952 16.0228C116.931 14.7942 113.836 13.6417 110.672 12.5789C110.149 12.403 109.582 12.6848 109.406 13.2084C109.23 13.7319 109.512 14.2989 110.035 14.4748C113.159 15.5239 116.214 16.662 119.198 17.8754C119.71 18.0835 120.293 17.8374 120.501 17.3258Z" fill="#9C9C9C"/>
                                    <path className="p18" d="M127.922 21.4072C130.906 22.8335 133.803 24.3281 136.61 25.8752C137.094 26.1417 137.702 25.9658 137.969 25.4821C138.235 24.9984 138.059 24.3902 137.576 24.1236C134.736 22.5586 131.804 21.0463 128.785 19.6028C128.287 19.3646 127.689 19.5754 127.451 20.0736C127.213 20.5719 127.424 21.169 127.922 21.4072Z" fill="#9C9C9C"/>
                                    <path className="p19" d="M144.957 29.822C144.663 30.2899 144.804 30.9071 145.272 31.2006C148.098 32.9735 150.811 34.7883 153.403 36.625C153.854 36.9443 154.478 36.8378 154.797 36.3872C155.116 35.9366 155.01 35.3124 154.559 34.9931C151.937 33.1353 149.194 31.2996 146.335 29.5063C145.867 29.2128 145.25 29.3542 144.957 29.822Z" fill="#9C9C9C"/>
                                    <path className="p20" d="M160.552 40.7297C160.208 41.1613 160.278 41.7905 160.71 42.1352C163.362 44.2532 165.848 46.3713 168.157 48.4598C168.567 48.8303 169.199 48.7985 169.57 48.3889C169.94 47.9793 169.908 47.3469 169.499 46.9765C167.159 44.8604 164.642 42.7157 161.958 40.5723C161.526 40.2277 160.897 40.2982 160.552 40.7297Z" fill="#9C9C9C"/>
                                    <path className="p21" d="M82.1401 6.73744C82.2075 6.18928 81.8177 5.6903 81.2696 5.62292C78.027 5.22438 74.7373 4.93549 71.4043 4.767C70.8527 4.73912 70.3829 5.16366 70.3551 5.71524C70.3272 6.26682 70.7517 6.73657 71.3033 6.76445C74.5875 6.93047 77.8294 7.21515 81.0256 7.60798C81.5738 7.67536 82.0727 7.2856 82.1401 6.73744Z" fill="#9C9C9C"/>
                                    <path className="p22" d="M175.421 53.6321C175.023 54.0145 175.009 54.6476 175.392 55.0461C176.558 56.2611 177.653 57.4522 178.675 58.6125C179.04 59.0269 179.672 59.0669 180.086 58.7018C180.501 58.3368 180.541 57.7049 180.176 57.2904C179.134 56.108 178.02 54.896 176.835 53.6613C176.453 53.2628 175.82 53.2498 175.421 53.6321Z" fill="#9C9C9C"/>
                                    </svg>  

              }



              {
                !isMobile &&
                <svg className="paths2" xmlns="http://www.w3.org/2000/svg" width="177" height="47" viewBox="0 0 177 47" fill="none">
                <path className="p12" d="M10.14 35.29C10.0139 35.2852 9.88916 35.2616 9.76999 35.22C6.51999 33.93 3.41999 32.56 0.549989 31.14C0.429031 31.0851 0.320217 31.0067 0.2299 30.9093C0.139583 30.8119 0.0695727 30.6975 0.0239569 30.5728C-0.021659 30.448 -0.0419665 30.3155 -0.0357799 30.1828C-0.0295932 30.0501 0.00296348 29.92 0.0599895 29.8C0.120974 29.6799 0.205603 29.5733 0.308798 29.4867C0.411992 29.4001 0.531623 29.3352 0.660509 29.296C0.789394 29.2568 0.924878 29.244 1.05883 29.2584C1.19277 29.2729 1.32242 29.3142 1.43999 29.38C4.25999 30.77 7.30999 32.12 10.51 33.38C10.7266 33.4656 10.9066 33.6242 11.0188 33.8284C11.131 34.0326 11.1684 34.2695 11.1246 34.4983C11.0807 34.7271 10.9583 34.9334 10.7786 35.0816C10.5988 35.2298 10.373 35.3106 10.14 35.31V35.29Z" fill="#9C9C9C"/>
                <path className="p13" d="M29.16 41.4401H28.91C25.65 40.6001 22.39 39.6601 19.25 38.6401C18.9981 38.5577 18.7893 38.3787 18.6693 38.1425C18.5493 37.9062 18.5279 37.632 18.61 37.3801C18.6924 37.1305 18.8698 36.9235 19.1037 36.8037C19.3376 36.684 19.6093 36.6611 19.86 36.7401C22.97 37.7401 26.18 38.6701 29.41 39.5001C29.6752 39.5332 29.9164 39.6704 30.0805 39.8813C30.2446 40.0923 30.3181 40.3599 30.285 40.6251C30.2518 40.8903 30.1147 41.1315 29.9037 41.2956C29.6927 41.4597 29.4252 41.5332 29.16 41.5001V41.4401Z" fill="#9C9C9C"/>
                <path className="p14" d="M48.78 45.2999H48.64C45.33 44.8499 42 44.2999 38.72 43.6399C38.4548 43.5882 38.221 43.4333 38.07 43.2092C37.9191 42.985 37.8633 42.7101 37.915 42.4449C37.9667 42.1797 38.1217 41.9459 38.3458 41.7949C38.5699 41.644 38.8448 41.5882 39.11 41.6399C42.35 42.2799 45.65 42.8299 48.92 43.2799C49.1852 43.2985 49.4322 43.4217 49.6066 43.6223C49.781 43.823 49.8686 44.0847 49.85 44.3499C49.8315 44.6152 49.7083 44.8621 49.5076 45.0365C49.307 45.2109 49.0452 45.2985 48.78 45.2799V45.2999Z" fill="#9C9C9C"/>
                <path className="p15" d="M68.71 46.88C65.39 46.81 62.01 46.65 58.71 46.38C58.4464 46.3595 58.2015 46.2354 58.0291 46.0349C57.8567 45.8344 57.7707 45.5737 57.79 45.31C57.8079 45.0553 57.9224 44.8172 58.1102 44.6442C58.298 44.4713 58.5448 44.3768 58.8 44.38C62.11 44.64 65.45 44.81 68.73 44.87C68.9952 44.87 69.2496 44.9753 69.4371 45.1629C69.6247 45.3504 69.73 45.6047 69.73 45.87C69.73 46.1352 69.6247 46.3895 69.4371 46.5771C69.2496 46.7646 68.9952 46.87 68.73 46.87L68.71 46.88Z" fill="#9C9C9C"/>
                <path className="p16" d="M78.7 46.7599C78.4348 46.7599 78.1804 46.6545 77.9929 46.467C77.8054 46.2795 77.7 46.0251 77.7 45.7599C77.7 45.4947 77.8054 45.2403 77.9929 45.0528C78.1804 44.8653 78.4348 44.7599 78.7 44.7599C82.02 44.6199 85.35 44.3699 88.61 44.0099C88.8752 43.982 89.1406 44.0607 89.3479 44.2285C89.5551 44.3964 89.6872 44.6397 89.715 44.9049C89.7429 45.1701 89.6642 45.4355 89.4964 45.6428C89.3285 45.85 89.0852 45.982 88.82 46.0099C85.52 46.3699 82.15 46.6299 78.82 46.7699L78.7 46.7599Z" fill="#9C9C9C"/>
                <path className="p17" d="M98.57 44.6C98.3048 44.6225 98.0415 44.5388 97.838 44.3672C97.6345 44.1956 97.5075 43.9502 97.485 43.685C97.4624 43.4198 97.5462 43.1565 97.7178 42.953C97.8894 42.7495 98.1348 42.6225 98.4 42.6C101.66 42.03 104.93 41.33 108.11 40.53C108.363 40.4777 108.627 40.5254 108.845 40.6632C109.064 40.801 109.221 41.0182 109.283 41.2691C109.345 41.52 109.308 41.7853 109.178 42.0092C109.049 42.2331 108.838 42.3982 108.59 42.47C105.37 43.28 102.06 43.99 98.75 44.57L98.57 44.6Z" fill="#9C9C9C"/>
                <path className="p18" d="M117.95 39.7299C117.685 39.771 117.414 39.7051 117.198 39.5466C116.981 39.3882 116.836 39.1501 116.795 38.8849C116.754 38.6197 116.82 38.349 116.978 38.1324C117.137 37.9158 117.375 37.771 117.64 37.7299C120.78 36.7299 123.91 35.5299 126.94 34.2799C127.061 34.2291 127.192 34.2027 127.323 34.2024C127.455 34.202 127.585 34.2277 127.707 34.2779C127.829 34.328 127.939 34.4017 128.033 34.4948C128.126 34.5878 128.2 34.6983 128.25 34.8199C128.35 35.064 128.349 35.3376 128.248 35.581C128.146 35.8245 127.953 36.0182 127.71 36.1199C124.63 37.3999 121.45 38.5799 118.27 39.6299C118.169 39.6782 118.061 39.7118 117.95 39.7299V39.7299Z" fill="#9C9C9C"/>
                <path className="p19" d="M136.41 32.08C136.186 32.0787 135.969 32.0022 135.794 31.8629C135.618 31.7236 135.495 31.5295 135.443 31.3116C135.391 31.0938 135.414 30.8649 135.508 30.6615C135.601 30.4581 135.761 30.2921 135.96 30.19C138.89 28.71 141.81 27.1 144.64 25.39C144.753 25.3077 144.882 25.2501 145.019 25.2208C145.156 25.1916 145.297 25.1914 145.434 25.2202C145.571 25.2491 145.701 25.3063 145.814 25.3883C145.927 25.4703 146.022 25.5751 146.093 25.6961C146.163 25.8171 146.207 25.9515 146.222 26.0906C146.237 26.2297 146.223 26.3704 146.181 26.5036C146.138 26.6369 146.068 26.7597 145.975 26.8642C145.881 26.9686 145.767 27.0524 145.64 27.11C142.76 28.84 139.8 30.48 136.82 31.98C136.692 32.0421 136.552 32.0762 136.41 32.08Z" fill="#9C9C9C"/>
                <path className="p20" d="M153.53 21.7799C153.317 21.7815 153.108 21.7148 152.935 21.5895C152.763 21.4642 152.634 21.2869 152.57 21.0836C152.505 20.8802 152.507 20.6614 152.575 20.4592C152.644 20.257 152.775 20.0821 152.95 19.9599C155.62 18.0699 158.27 16.0499 160.84 13.9599C161.045 13.7941 161.307 13.7158 161.569 13.742C161.831 13.7682 162.072 13.8968 162.24 14.0999C162.324 14.2016 162.386 14.3187 162.425 14.4447C162.463 14.5707 162.476 14.703 162.463 14.834C162.45 14.965 162.411 15.0921 162.349 15.2081C162.287 15.3241 162.202 15.4266 162.1 15.5099C159.5 17.6399 156.81 19.6999 154.1 21.6199C153.931 21.7295 153.732 21.7853 153.53 21.7799V21.7799Z" fill="#9C9C9C"/>
                <path className="p21" d="M168.97 9.09993C168.834 9.10078 168.699 9.07371 168.573 9.0204C168.447 8.96709 168.334 8.88866 168.24 8.78993C168.146 8.69697 168.072 8.58637 168.021 8.46451C167.97 8.34265 167.944 8.21195 167.944 8.07993C167.944 7.94792 167.97 7.81722 168.021 7.69536C168.072 7.5735 168.146 7.4629 168.24 7.36993C170.61 5.12993 172.96 2.75993 175.24 0.369933C175.425 0.196827 175.669 0.100387 175.922 0.100098C176.175 0.0998092 176.42 0.195693 176.605 0.368376C176.79 0.54106 176.903 0.77767 176.921 1.0304C176.939 1.28314 176.86 1.53315 176.7 1.72993C174.41 4.19993 172.03 6.59993 169.62 8.87993C169.436 9.02764 169.206 9.10556 168.97 9.09993V9.09993Z" fill="#9C9C9C"/>
                <defs>
                <clipPath id="clip0_113_603">
                <rect width="177" height="46.88" fill="white"/>
                </clipPath>
                </defs>
                </svg>
              }


              </div> :''

                }


              </div>
        </>
     );
}

export default ProcessElements;